Changelog
=========

Unreleased
----------

7.0.0 (21.12.2021)
------------------
- Тесты перенесены в докер
- Плагин разбит на подмодули (v1, v2)
- В версии v2 реализована новая схема постановки чеков
- Вся кодовая база была покрыта тестами
- Изменена схема чека коррекции для v1 структуры(Создан BaseCheck класс от которого наследуются Check/CorrectionCheck)
- Исправлены направления платежей для чека коррекции

6.0.0 (02.03.2021)
------------------

- Параметр `sno` для класса `Order` является обязательным
- Изменен порядок передачи параметра `sno` в классе `Order`

5.3.2 (03.02.2021)
------------------

- Указана кодировка для файла helpers.py

5.3.1 (03.02.2021)
------------------

- Правка версии для pypi

5.3.0 (03.02.2021)
------------------

- Правка типа ИНН в описании методов классов `Check` и `CorrectionCheck`
- В класс `Order` в метод `set_client` добавлен параметр `client_coordinate`
- Добавлен признак расчёта `pay`

5.2.0 (08.10.2020)
------------------

- В классы `Check` и `Client` добавлен метод `apply_correction_positions` для устранения возможных несхождений в ценах позиций

5.1.0 (21.09.2020)
------------------

- Для заказов добавлена поддержка `nomenclature_code`, `is_need_nomenclature_code`

5.0.0 (08.09.2020)
------------------

- Добавлен класс `Employee` для создания, просмотра, редактирования сотрудников
- В классе `Client` метод `get_couriers` заменен на `get_employees`
- В класс `Client` добавлены методы `create_employee`, `update_employee`, `get_employee_info`, `delete_employee`

4.2.0 (10.07.2020)
------------------

- Добавлена возможность передать дополнительный реквизит пользователя `additional_user_props` тег 1084

4.1.0 (25.06.2020)
------------------

- Добавлена возможность передать код товарной номенклатуры в HEX виде

4.0.0 (19.06.2020)
------------------

- Параметр `task_id` заменен на параметр `external_id`

3.1.1 (21.05.2020)
------------------

- В класс `Check` добавлен метод  `apply_discount` для применения скидок ко всему чеку
- В класс `Order` добавлен метод  `apply_discount` для применения скидок ко всему заказу

3.0.1 (19.05.2020)
------------------

- Удален `NomenclatureType`


3.0.0 (19.05.2020)
------------------

- Замена интерфейса класса `Nomenclature`: удален параметр `nomenclature_type`


2.4.0 (26.03.2020)
------------------

- В класс `Check` добавлен метод `set_additional_check_props` для поддержки дополнительного реквизита чека

2.3.1 (19.03.2020)
------------------

- Загрузка одного чека без мультизагрузки

2.3.0 (13.03.2020)
------------------

- В класс `Client` добавлен метод `create_tasks` для множественной загрузки чеков

2.2.0 (02.03.2020)
------------------

- Для заказов добавлена поддержка `excise`, `country_code`, `declaration_number`

2.1.0 (27.01.2020)
------------------

- Добавлена поддержка кода номеклатуры в HEX представлении

2.0.0 (20.01.2020)
------------------

- Заменены параметры `gtin` и `serial` класса `Nomenclature` на `code`

1.10.0 (16.12.2019)
-------------------

- В метод `Order.add_position` добавлен необязательный параметр `agent`.

1.9.0 (20.11.2019)
------------------

- Добавлен метод `set_agent` в класс `Check`


1.8.0 (18.11.2019)
------------------

- Параметр `inn` методов `Check.set_client` и `CorrectionCheck.set_authorised_person` необязателен для ввода

1.7.0 (13.09.2019)
------------------

- Заменен базовый класс для `OrderInfo`, `CouriersInfo` на собственную реализацию

1.6.0 (12.08.2019)
------------------

- Параметры функции `Check.set_client` необязательны для ввода


1.5.5 (18.07.2019)
------------------

- Добавлены празнаки рассчета `PROPERTY_RIGHT`, `NON_OPERATING`, `INSURANCE`, `SALES_TAX`, `RESORT_FEE` в класс `CalculationSubject`
- Добавлен классы `Nomenclature` и `NomenclatureType` для создания маркировок
- В позицию на чек фискализации добавлены необязательные поля суммы акциза, цифровой код страны и номер таможенной декларации

1.5.4 (08.07.2019)
------------------

- Параметры функции `Check.set_client` необязательны для ввода, но в случае использования функции inn
  обязательный параметр для передачи

1.5.3 (26.06.2019)
------------------

- Исправлено преобразование `RATE_118` в `RATE_120` у класса `VatRate`

1.5.2 (26.06.2019)
------------------

- Добавленно преобразование `RATE_18` и `RATE_118` в `RATE_20` и `RATE_120` у класса `VatRate`

1.5.1 (24.06.2019)
------------------

- Расширен класс `Response` методом `_asdict`

1.5.0 (24.06.2019)
------------------

- Заменен базовый класс для `Task`, `TaskInfo` на собственную реализацию

1.4.0 (13.06.2019)
------------------

- В класс `Order` добавлена возможность передать предоплату и тип платежа

1.3.0 (04.06.2019)
------------------

- Класс `Check` расширен методами `set_client` и `set_cashier` для передачи дополнительных данных
  по чеку

1.2.0 (16.05.2019)
------------------

- Класс `Order` расширен методом `add_callback_url` для оповещения магазина

1.1.1 (16.04.2019)
------------------

- Изменен идентификатор позиции заказа

1.1.0 (15.04.2019)
------------------

- Добавлен класс `Order` для создания и обновления заявок.
- Класс `Client` расширен методами `get_orders`, `get_couriers`, `create_order`, `update_order`,
  `get_order_info`, `delete_order` для работы с заявками.

1.0.0 (18.01.2019)
------------------

- Убраны атрибуты `RATE_18` и `RATE_118` у класса `VatRate`.

0.7.0 (10.12.2018)
------------------

- Класс `VatRate` расширен атрибутами `RATE_20` и `RATE_120`.

0.6.0 (20.11.2018)
------------------

- Класс `Agent` расширен методами `set_paying_agent_info`, `set_receive_payments_operator_info` и
  `set_money_transfer_operator_info` для передачи дополнительных атрибутов платежного агента,
  оператора по приему платежей и оператора перевода, соответственно.
- В класс `Check` добавлен необязательный параметр `payment_address` и метод `set_callback_url`.

0.5.0 (14.08.2018)
------------------

- Добавлены направления платежа `BUY` и `BUY_RETURN` в класс `Intent`

0.4.0 (09.04.2018)
------------------

- Добавлен метод `set_authorised_person` в класс `CorrectionCheck`

0.3.0 (20.03.2018)
------------------

- Добавлена поддержка ФФД 1.0.5 (Признак рассчета, способ рассчета, данные по кассиру,
  данные по агенту)

0.2.2 (10.11.2017)
------------------

- Добавлен метод `Client.get_task_info`
- Добавлен необязательный параметр `oid` в `Check.add_position`

0.2.1 (28.09.2017)
------------------

- Добавлен чек коррекции.
- Добавлена возможность указать вид оплаты.
- В позицию на чек фискализации добавлено необязательное поле единицы измерения.

0.2.0 (11.08.2017)
------------------

- Для отправки запросов теперь используется класс `Client`.
- При отправке запроса на добавление задачи в очередь теперь возвращается namedtuple вместо словаря.
- Удалены исключения. Вместо них используются исключения из requests.
- Константы сгруппированы в классы.
- Убрана валидация параметров при создании экземпляра чека и его элементов.
  Валидация уже осуществляется на сервере.
- В налогах теперь указывается только ставка (высчитывается на сервере).
- В позиции убран параметр `discount` (высчитывается на сервере).
- 99.9% покрытие кода тестами.
- Прочие небольшие изменения.

0.1.6 (31.07.2016)
------------------

- `print_out()` теперь возвращает ответ от сервера.

0.1.5 (10.07.2017)
------------------

- Исправлена возможность установки `sno` чека в ОСН.

0.1.4 (06.07.2017)
------------------

- Добавлен новый параметр чека `sno` (система налогооблажения).

0.1.1 (26.06.2017)
------------------

- Переезд на https.

0.1.0 (19.06.2017)
------------------

- Первый релиз.
